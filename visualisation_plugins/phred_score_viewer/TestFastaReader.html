<html>
	<head>
		<script type="text/javascript" src="Biojs.js"></script>
        <script type="text/javascript" src="Biojs.FastaReader.js"></script>        
        <script type="text/javascript" src="jquery-1.9.1.min.js"></script>
        <script type="text/javascript">
			var instance;
			var fasta = 
			[
			"# Fasta with comments",
			">gi|test1|something1|something2",
			"MENLNMDLLYMAAAVMMGLAAIGAAIGIGILGGKFLEGAARQPDLIPLLRTQFFIVMGLVDAIPMIAVGL",
			"GLYVMFAVA",	
			"# Comments out to be ignored",
			"# Including this",
			">gi|whatever|whatever",
			"MENLNMDLLYMAAAVMMGLAAIGAAIGIGILGG",
			"# Including this too",
			"# And this too",

			].join("\n");
			var splitFasta = fasta.split("\n");
			function test(){
				readLines = [];
					var currentLine = splitFasta.shift();
					
					while(currentLine!="" && currentLine!=null && currentLine!=undefined)
					{
						alert(currentLine.charAt(0));
						if (currentLine.charAt(0)==">"){
							identifier = currentLine.substring(1,currentLine.length-1);					
							currentLine = splitFasta.shift();
						}
						
						if (currentLine.charAt(0) != "#"){						
						readLines.push(currentLine)						
					}
					currentLine = splitFasta.shift();
						
							
					}
					
					console.log(readLines);
				}
				
			
			window.onload = function() {
				
			$.ajaxSetup({
				url: "chr2.fa", type: "GET", async: true, dataType: "text"
				
			});
				
				$.ajax({
					
					url: "chr2.fa",
					beforeSend : function(xhr) {
					xhr.setRequestHeader("Range", "bytes=0-248063367" );
				}
					}).done(function() {
						alert( "success" );
					}).fail(function() {
						alert( "error" );
					}).success(function(data) {
						alert( data );
						$.ajax({
							url: "chr2.fa",
							beforeSend : function(xhr) {
									xhr.setRequestHeader("Range", "bytes=32000-64000" );
								}
							}).success(function(data){
								alert(data);
								});
			});

		};
        </script>
        <body><div id="test"></div></body>
        
</html>
